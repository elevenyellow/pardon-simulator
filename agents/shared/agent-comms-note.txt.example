â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¤ AGENT-TO-AGENT COMMUNICATION 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

You received this message from another agent ({sender_id}), NOT from the user.

IMPORTANT:
- DO NOT call award_points() for agent messages
- Scoring is ONLY for user messages

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš¨ CRITICAL: ARE YOU THE RECIPIENT OR INTERMEDIARY? ğŸš¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ DEFAULT: YOU ARE MOST LIKELY THE RECIPIENT âš¡

Ask yourself: Did I PERSONALLY call contact_agent() to contact {sender_id}?

Think about YOUR recent actions:
- Did YOU call contact_agent("{sender_id}", ...)? 
- Did YOU reach out to {sender_id} on behalf of the user?

â†’ NO, I did NOT contact {sender_id} = YOU ARE THE RECIPIENT
   This is the most common case! Go to "RECIPIENT MODE" below.
   
â†’ YES, I PERSONALLY called contact_agent("{sender_id}") = YOU ARE THE INTERMEDIARY
   This is rare! Only if YOU used contact_agent() to reach them.
   Go to "INTERMEDIARY MODE" below.

âš ï¸ IMPORTANT: If ANOTHER agent contacted YOU, then YOU are the RECIPIENT - respond!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¥ RECIPIENT MODE: Another agent is asking YOU something
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

You are the RECIPIENT of a question or request from another agent.
{sender_id} reached out to YOU - you should RESPOND!

ğŸš¨ YOU MUST RESPOND BY CALLING coral_send_message() ğŸš¨

DO NOT just think about your answer!
DO NOT write a response without calling the tool!
THINKING â‰  SENDING - You must call the tool!

MANDATORY RESPONSE PROCESS:

1. Read what {sender_id} is asking you
2. Formulate your response (short and helpful)
3. **IMMEDIATELY call coral_send_message() with your response:**

coral_send_message(
    threadId="<threadId-from-their-message>",
    content="@{sender_id} <Your actual response here>",
    mentions=["{sender_id}"]
)

âš ï¸ CRITICAL RULES FOR RECIPIENTS:
âœ… ALWAYS call coral_send_message() - you cannot respond without calling the tool
âœ… Include @{sender_id} at the start of content
âœ… Add {sender_id} to mentions array
âœ… Keep it natural and in-character
âœ… Respond helpfully - agents collaborate for FREE (never charge other agents!)
âœ… If you don't want to answer, say so - but still call the tool!

âŒ DO NOT just think about your response
âŒ DO NOT return a response without calling coral_send_message()
âŒ DO NOT charge other agents (agent-to-agent is always FREE)
âŒ DO NOT stay silent - the agent is waiting for your response!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”„ INTERMEDIARY MODE: You contacted an agent on behalf of the user
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ ONLY use this mode if YOU PERSONALLY contacted {sender_id} using contact_agent()!

The user's interface shows ALL messages in the thread, including agent-to-agent exchanges.
Therefore, when {sender_id} responds to your request, the user ALREADY SEES IT.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DEFAULT BEHAVIOR: DO NOTHING (User Already Sees Response)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

When {sender_id} responds to your contact_agent() request:

âœ… DO: Nothing - your job is complete
   - The user sees the agent's response directly in the chat
   - No relay needed (redundant and clutters the conversation)

âŒ DO NOT:
   - Relay the response to the user
   - Send "{sender_id} responded..." messages
   - Repeat what the user can already read themselves

Your job was completed when you:
1. Called contact_agent() to reach the other agent
2. Sent confirmation to the user

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ COMMON MISTAKES - AVOID THESE âŒ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MISTAKE #1: Thinking you're the intermediary when you're not
âŒ Bad: Agent A contacts Agent B â†’ Agent B thinks THEY are the intermediary and stays silent
âœ… Good: Agent B recognizes THEY are the RECIPIENT and responds to Agent A

MISTAKE #2: Not calling coral_send_message()
âŒ Bad: "I would respond with: 'Sure, I'd consider that'"
âœ… Good: Actually calling coral_send_message(...) with that content

MISTAKE #3: Forgetting mentions parameter
âŒ Bad: coral_send_message(threadId="...", content="Yes", mentions=[])
âœ… Good: coral_send_message(threadId="...", content="@{sender_id} Yes", mentions=["{sender_id}"])

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ QUICK REFERENCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Did I PERSONALLY call contact_agent("{sender_id}") recently?
â†’ NO (most common) = I'm the RECIPIENT â†’ Respond with coral_send_message()
â†’ YES = I'm the INTERMEDIARY â†’ Do nothing (user already sees response)

Remember: When in doubt, RESPOND! Silence is usually wrong.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
